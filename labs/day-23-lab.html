<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Day 23 Lab - Simulate Routing & Infrastructure (GNS3)</title>
  <link rel="stylesheet" href="../assets/lab.css?v=1" />
</head>
<body>
  <div class="lab-container">
    <h1>Day 23 Lab</h1>
    <h2>Simulate Routing & Infrastructure with GNS3</h2>

    <p><strong>Objective:</strong> Build a tiny routed network in GNS3 with two routers and two PCs, enable dynamic routing (OSPF), verify end-to-end connectivity, and practice basic failure testing.</p>

    <h3>ðŸ›  What You Need</h3>
    <ul>
      <li>GNS3 installed (local is fine)</li>
      <li>Routers: <em>Choose one</em>
        <ul>
          <li><strong>VyOS</strong> (recommended, free/open-source), or</li>
          <li><strong>Cisco IOS/vIOS</strong> (licensed & provided by you)</li>
        </ul>
      </li>
      <li>Two VPCS nodes (built into GNS3)</li>
    </ul>

    <h3>Step 1 â€” Topology & IP Plan</h3>
    <p>Drag into the workspace: <strong>R1</strong>, <strong>R2</strong>, <strong>PC1 (VPCS)</strong>, <strong>PC2 (VPCS)</strong>. Cable like this:</p>
<pre><code>PC1 â”€â”€ R1 â”€â”€ R2 â”€â”€ PC2

R1 LAN  (to PC1): 192.168.1.0/24   R1 LAN IP: 192.168.1.1
R2 LAN  (to PC2): 192.168.2.0/24   R2 LAN IP: 192.168.2.1
R1â†”R2 link        : 10.0.0.0/30     R1: 10.0.0.1, R2: 10.0.0.2

PC1 IP: 192.168.1.10/24  GW 192.168.1.1
PC2 IP: 192.168.2.10/24  GW 192.168.2.1
</code></pre>

    <h3>Step 2 â€” Configure the PCs (VPCS)</h3>
<pre><code># On PC1 console
ip 192.168.1.10/24 192.168.1.1

# On PC2 console
ip 192.168.2.10/24 192.168.2.1
</code></pre>

    <h3>Step 3 â€” Configure the Routers</h3>
    <p>Pick the set that matches your router image.</p>

    <h4>A) Cisco IOS / vIOS</h4>
<pre><code>! R1 (interfaces may be Gi0/0, Gi0/1, etc. Adjust to your device)
enable
conf t
interface g0/0
 ip address 192.168.1.1 255.255.255.0
 no shutdown
interface g0/1
 ip address 10.0.0.1 255.255.255.252
 no shutdown
router ospf 1
 network 192.168.1.0 0.0.0.255 area 0
 network 10.0.0.0 0.0.0.3 area 0
end
wr

! R2
enable
conf t
interface g0/0
 ip address 10.0.0.2 255.255.255.252
 no shutdown
interface g0/1
 ip address 192.168.2.1 255.255.255.0
 no shutdown
router ospf 1
 network 10.0.0.0 0.0.0.3 area 0
 network 192.168.2.0 0.0.0.255 area 0
end
wr
</code></pre>

    <h4>B) VyOS (free)</h4>
<pre><code># R1
configure
set interfaces ethernet eth0 address 192.168.1.1/24
set interfaces ethernet eth1 address 10.0.0.1/30
set protocols ospf area 0 network 192.168.1.0/24
set protocols ospf area 0 network 10.0.0.0/30
commit; save; exit

# R2
configure
set interfaces ethernet eth0 address 10.0.0.2/30
set interfaces ethernet eth1 address 192.168.2.1/24
set protocols ospf area 0 network 10.0.0.0/30
set protocols ospf area 0 network 192.168.2.0/24
commit; save; exit
</code></pre>

    <h3>Step 4 â€” Verify OSPF & Connectivity</h3>
    <ul>
      <li><strong>OSPF neighbors come up</strong>
        <ul>
          <li><em>IOS:</em> <code>show ip ospf neighbor</code></li>
          <li><em>VyOS:</em> <code>show ip ospf neighbor</code></li>
        </ul>
      </li>
      <li><strong>Routes are learned</strong>
        <ul>
          <li><em>IOS:</em> <code>show ip route ospf</code></li>
          <li><em>VyOS:</em> <code>show ip route</code> (look for OSPF routes)</li>
        </ul>
      </li>
      <li><strong>End-to-end ping</strong>
        <ul>
          <li>From <em>PC1</em>: <code>ping 192.168.2.10</code> (should succeed)</li>
          <li>From <em>PC2</em>: <code>ping 192.168.1.10</code></li>
        </ul>
      </li>
    </ul>

    <h3>Step 5 â€” Quick Failure Test</h3>
    <ul>
      <li>In GNS3, <strong>shut down the R1â†”R2 link</strong> (right-click interface â†’ Disable) or bring one router down.</li>
      <li>Try the ping again from PC1 to PC2 (it should fail).</li>
      <li>Re-enable the link; pings should recover once OSPF adjacencies reconverge.</li>
    </ul>

    <h3>âœ… Deliverables</h3>
    <ul>
      <li>Screenshot of topology with node labels and interface links.</li>
      <li>Screenshot of <code>show ip ospf neighbor</code> (or VyOS equivalent) showing FULL adjacency.</li>
      <li>Screenshot of a successful <code>ping</code> from PC1 to PC2.</li>
    </ul>

    <h3>ðŸŽ¯ Stretch (Optional)</h3>
    <ul>
      <li>Add an <strong>ACL</strong>/<strong>firewall rule</strong> on R2 to block ICMP from 192.168.1.0/24 and observe how it affects pings.</li>
      <li>Change OSPF <strong>hello/dead timers</strong> on the R1â†”R2 link and measure convergence.</li>
      <li>Add a second link between R1 & R2 and enable <strong>OSPF cost</strong> changes to prefer one path.</li>
    </ul>

    <h3>ðŸ§  Reflect</h3>
    <ol>
      <li>Why do we advertise both the LAN and the inter-router link into OSPF?</li>
      <li>What did the failure test tell you about dynamic routing vs static routing?</li>
      <li>Where would segmentation or ACLs live in this tiny design, and why?</li>
    </ol>

    <hr />
    <p><strong>Lab Summary:</strong> You created a two-router lab with OSPF in GNS3, proved end-to-end connectivity across subnets, and observed how routing reacts to link failures. This mirrors real branchâ†”core routing in a tiny, safe sandbox.</p>
  </div>
</body>
</html>
