<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Day 25 Lab - Simulate SDN & IoT with Azure (Beginner)</title>
  <link rel="stylesheet" href="../assets/lab.css?v=1" />
</head>
<body>
  <div class="lab-container">
    <h1>Day 25 Lab</h1>
    <h2>Simulate SDN & IoT with Microsoft Azure (Beginner)</h2>

    <p><strong>Objective:</strong> Use the Azure Portal to mimic SDN â€œintentâ€ and an IoT network zoneâ€”no VMs or CLI. Youâ€™ll create a VNet with two subnets, attach an NSG with simple allow/deny rules for an IoT subnet, and label resources with tags (policy-style grouping).</p>
    <p><strong>Estimated time:</strong> 20â€“30 minutes â€¢ <strong>Cost:</strong> $0 (no compute)</p>

    <h3>ğŸ›  What You Need</h3>
    <ul>
      <li>Azure account (<a href="https://azure.microsoft.com/free" target="_blank" rel="noopener">free tier</a> is fine)</li>
      <li>Access to the <a href="https://portal.azure.com" target="_blank" rel="noopener">Azure Portal</a></li>
    </ul>

    <h3>Step 1 â€” Create a Resource Group</h3>
    <ol>
      <li>Portal â†’ search <strong>Resource groups</strong> â†’ <strong>Create</strong>.</li>
      <li><strong>Name:</strong> <code>HL-SDN-RG</code> â€¢ <strong>Region:</strong> your closest (e.g., East US).</li>
      <li><strong>Review + create</strong> â†’ <strong>Create</strong>.</li>
    </ol>

    <h3>Step 2 â€” Create a VNet with Two Subnets</h3>
    <ol>
      <li><strong>Create a resource</strong> â†’ search <strong>Virtual Network</strong> â†’ <strong>Create</strong>.</li>
      <li><strong>Resource group:</strong> <code>HL-SDN-RG</code> â€¢ <strong>Name:</strong> <code>HL-SDN-VNet</code> â€¢ <strong>Region:</strong> same as RG.</li>
      <li><strong>IP addresses</strong> tab:
        <ul>
          <li><strong>IPv4 address space:</strong> <code>10.25.0.0/16</code></li>
          <li>Edit subnets:
            <ul>
              <li><code>PublicSubnet</code> â†’ <code>10.25.1.0/24</code></li>
              <li><code>IoTSubnet</code> â†’ <code>10.25.2.0/24</code></li>
            </ul>
          </li>
          <li>(Optional) Enable IPv6 and add <code>2001:db8:25::/48</code> with /64 slices to mirror dual-stack.</li>
        </ul>
      </li>
      <li><strong>Review + create</strong> â†’ <strong>Create</strong>.</li>
    </ol>

    <h3>Step 3 â€” Attach an NSG to the IoT Subnet (Simple Policy)</h3>
    <p>This mimics â€œpolicy intentâ€ in SDN: allow MQTT to IoT devices, deny old protocols like Telnet.</p>
    <ol>
      <li><strong>Create a resource</strong> â†’ <strong>Network security group</strong> â†’ <strong>Create</strong>.</li>
      <li><strong>Name:</strong> <code>HL-IoT-NSG</code> â€¢ <strong>RG:</strong> <code>HL-SDN-RG</code> â€¢ <strong>Region:</strong> same.</li>
      <li>Open <code>HL-IoT-NSG</code> â†’ <strong>Inbound security rules</strong> â†’ <strong>Add</strong>:
        <ul>
          <li><strong>Name:</strong> <code>Allow-MQTT</code> â€¢ <strong>Priority:</strong> <code>100</code> â€¢ <strong>Protocol:</strong> TCP â€¢ <strong>Port:</strong> <code>1883</code> â€¢ <strong>Source:</strong> <em>VirtualNetwork</em> â€¢ <strong>Action:</strong> Allow.</li>
          <li><strong>Name:</strong> <code>Deny-Telnet</code> â€¢ <strong>Priority:</strong> <code>120</code> â€¢ <strong>Protocol:</strong> TCP â€¢ <strong>Port:</strong> <code>23</code> â€¢ <strong>Source:</strong> <em>Any</em> â€¢ <strong>Action:</strong> Deny.</li>
        </ul>
      </li>
      <li>Associate to subnet: <strong>Subnets</strong> â†’ <strong>Associate</strong> â†’ VNet <code>HL-SDN-VNet</code> â†’ Subnet <code>IoTSubnet</code>.</li>
    </ol>
    <div class="note">Concept: The NSG acts like a distributed firewall policyâ€”very SDN-ish. Weâ€™re not deploying devices; just defining intent on the fabric.</div>

    <h3>Step 4 â€” Tag Resources (Group by â€œIntentâ€)</h3>
    <p>Tags help you target policy or cost viewsâ€”think of them like SDN metadata.</p>
    <ol>
      <li>Open <code>HL-SDN-VNet</code> â†’ <strong>Tags</strong> â†’ <strong>Edit</strong>:
        <ul>
          <li><code>env=lab</code>, <code>owner=hoodie</code></li>
        </ul>
      </li>
      <li>Open each subnet â†’ <strong>Tags</strong>:
        <ul>
          <li><code>tier=public</code> on <code>PublicSubnet</code></li>
          <li><code>tier=iot</code> on <code>IoTSubnet</code></li>
        </ul>
      </li>
    </ol>
    <p>Later, Azure Policy or automation could use these tags to apply rules programmatically (controller-style).</p>

    <h3>Step 5 â€” Explore What You Built</h3>
    <ul>
      <li><strong>VNet â†’ Overview:</strong> verify address space <code>10.25.0.0/16</code>.</li>
      <li><strong>Subnets:</strong> confirm <code>PublicSubnet</code> <code>10.25.1.0/24</code> and <code>IoTSubnet</code> <code>10.25.2.0/24</code>, with NSG attached to IoT.</li>
      <li><strong>NSG â†’ Inbound rules:</strong> verify priority order (100 allow MQTT, 120 deny Telnet, then defaults).</li>
      <li><strong>Tags:</strong> confirm VNet/subnet tags are present.</li>
    </ul>

    <h3>âœ… Deliverables</h3>
    <ul>
      <li>Screenshot: <strong>HL-SDN-VNet</strong> <em>Overview</em> with address space.</li>
      <li>Screenshot: <strong>Subnets</strong> blade showing both subnets and the NSG association on <code>IoTSubnet</code>.</li>
      <li>Screenshot: <strong>HL-IoT-NSG</strong> inbound rules table (priorities visible).</li>
      <li>Screenshot: <strong>Tags</strong> on VNet/subnets (showing <code>tier</code> and <code>env</code>).</li>
      <li>2â€“3 sentences: â€œHow do NSGs + tags emulate SDN â€˜intentâ€™ without deploying devices?â€</li>
    </ul>

    <h3>ğŸ¯ Stretch (Optional)</h3>
    <ul>
      <li>Add one more NSG rule on IoTSubnet: <code>Allow-HTTPS</code> (TCP/443, priority 110). Explain why it sits between 100 and 120.</li>
      <li>Create a second VNet <code>HL-Edge-VNet</code> (e.g., <code>10.26.0.0/16</code>) and add a VNet peering both ways (no VMs required) to visualize fabric stitching.</li>
      <li>Write a one-line â€œpolicy intentâ€ note youâ€™d push with automation, e.g., â€œ<em>Deny Telnet everywhere in <code>env=lab</code></em>â€.</li>
    </ul>

    <h3>ğŸ§  Quick Ref</h3>
    <ul>
      <li><strong>VNet</strong> = software-defined private network boundary.</li>
      <li><strong>Subnet</strong> = segmented slice of the VNet (useful for zones like public vs. IoT).</li>
      <li><strong>NSG</strong> = simple, distributed firewall policy you can attach to subnets/NICs.</li>
      <li><strong>Tags</strong> = metadata that controllers/policy engines can target.</li>
    </ul>

    <h3>ğŸ§¹ Clean Up (recommended)</h3>
    <ul>
      <li>Portal â†’ <strong>Resource groups</strong> â†’ open <code>HL-SDN-RG</code> â†’ <strong>Delete resource group</strong> â†’ type the name to confirm.</li>
    </ul>

    <hr />
    <p><strong>Lab Summary:</strong> You modeled SDN intent in Azure by defining network segments, attaching a policy (NSG) for the IoT zone, and tagging resources for future automationâ€”without spinning up any paid resources.</p>
  </div>
</body>
</html>
